"use strict";(self.webpackChunkmapml_viewer_doc=self.webpackChunkmapml_viewer_doc||[]).push([[6281],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),m=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=m(e.components);return n.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=m(a),c=r,k=d["".concat(p,".").concat(c)]||d[c]||s[c]||l;return a?n.createElement(k,o(o({ref:t},u),{},{components:a})):n.createElement(k,o({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var m=2;m<l;m++)o[m]=a[m];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),r=a(6010);const l="tabItem_Ymn6";function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:a},t)}},5488:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(7462),r=a(7294),l=a(6010),o=a(2389),i=a(7392),p=a(7094),m=a(2466);const u="tabList__CuJ",s="tabItem_LNqP";function d(e){const{lazy:t,block:a,defaultValue:o,values:d,groupId:c,className:k}=e,g=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),N=d??g.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),h=(0,i.l)(N,((e,t)=>e.value===t.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const f=null===o?o:o??g.find((e=>e.props.default))?.props.value??g[0].props.value;if(null!==f&&!N.some((e=>e.value===f)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${f}" but none of its children has the corresponding value. Available values are: ${N.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:v,setTabGroupChoices:b}=(0,p.U)(),[y,j]=(0,r.useState)(f),w=[],{blockElementScrollPositionUntilNextRender:q}=(0,m.o5)();if(null!=c){const e=v[c];null!=e&&e!==y&&N.some((t=>t.value===e))&&j(e)}const C=e=>{const t=e.currentTarget,a=w.indexOf(t),n=N[a].value;n!==y&&(q(t),j(n),null!=c&&b(c,String(n)))},T=e=>{let t=null;switch(e.key){case"Enter":C(e);break;case"ArrowRight":{const a=w.indexOf(e.currentTarget)+1;t=w[a]??w[0];break}case"ArrowLeft":{const a=w.indexOf(e.currentTarget)-1;t=w[a]??w[w.length-1];break}}t?.focus()};return r.createElement("div",{className:(0,l.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},k)},N.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,key:t,ref:e=>w.push(e),onKeyDown:T,onClick:C},o,{className:(0,l.Z)("tabs__item",s,o?.className,{"tabs__item--active":y===t})}),a??t)}))),t?(0,r.cloneElement)(g.filter((e=>e.props.value===y))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==y})))))}function c(e){const t=(0,o.Z)();return r.createElement(d,(0,n.Z)({key:String(t)},e))}},3706:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>c,frontMatter:()=>i,metadata:()=>m,toc:()=>s});var n=a(7462),r=(a(7294),a(3905)),l=a(5488),o=a(5162);const i={id:"mapml-viewer-api",title:"HTMLMapmlViewerElement",slug:"/api/mapml-viewer-api"},p="HTMLMapmlViewerElement",m={unversionedId:"api/mapml-viewer-api",id:"api/mapml-viewer-api",title:"HTMLMapmlViewerElement",description:"L\u2019interface HTMLMapmlViewerElement repr\xe9sente l\u2019\xe9l\xe9ment ``.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/api/mapml-viewer-api.mdx",sourceDirName:"api",slug:"/api/mapml-viewer-api",permalink:"/web-map-doc/fr/docs/api/mapml-viewer-api",draft:!1,tags:[],version:"current",frontMatter:{id:"mapml-viewer-api",title:"HTMLMapmlViewerElement",slug:"/api/mapml-viewer-api"},sidebar:"sidebar",previous:{title:"<map-style>",permalink:"/web-map-doc/fr/docs/elements/style/"},next:{title:"HTMLLayerElement",permalink:"/web-map-doc/fr/docs/api/layer-api"}},u={},s=[{value:"Propri\xe9t\xe9s",id:"propri\xe9t\xe9s",level:2},{value:"controls",id:"controls",level:3},{value:"controlsList",id:"controlslist",level:3},{value:"extent",id:"extent",level:3},{value:"lat",id:"lat",level:3},{value:"lon",id:"lon",level:3},{value:"projection",id:"projection",level:3},{value:"zoom",id:"zoom",level:3},{value:"M\xe9thodes",id:"m\xe9thodes",level:2},{value:"back()",id:"back",level:3},{value:"forward()",id:"forward",level:3},{value:"reload()",id:"reload",level:3},{value:"toggleDebug()",id:"toggledebug",level:3},{value:"viewSource()",id:"viewsource",level:3},{value:"zoomTo(lat, lon, zoom)",id:"zoomtolat-lon-zoom",level:3},{value:"geojson2mapml(json, options)",id:"geojson2mapmljson-options",level:3},{value:"Param\xe8tres",id:"param\xe8tres",level:4},{value:"Options",id:"options",level:4},{value:"\xc9v\xe9nements",id:"\xe9v\xe9nements",level:2},{value:"Exemples",id:"exemples",level:2},{value:"geojson2mapml",id:"geojson2mapml",level:3},{value:"Utilisation des options de base",id:"utilisation-des-options-de-base",level:4},{value:"Cha\xeene d\u2019options",id:"cha\xeene-doptions",level:4},{value:"Fonction d\u2019options",id:"fonction-doptions",level:4},{value:"Options par d\xe9faut",id:"options-par-d\xe9faut",level:4},{value:"Sp\xe9cifications",id:"sp\xe9cifications",level:2},{value:"Exigences",id:"exigences",level:2}],d={toc:s};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"htmlmapmlviewerelement"},"HTMLMapmlViewerElement"),(0,r.kt)("p",null,"L\u2019interface HTMLMapmlViewerElement repr\xe9sente l\u2019\xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"p"},"<mapml-viewer>"),"."),(0,r.kt)("h2",{id:"propri\xe9t\xe9s"},"Propri\xe9t\xe9s"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nom de la propri\xe9t\xe9"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#controls"},"controls")),(0,r.kt)("td",{parentName:"tr",align:null},"Active ou d\xe9sactive les contr\xf4les natifs de la carte. Reproduit l\u2019attribut controls.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#controlslist"},"controlsList")),(0,r.kt)("td",{parentName:"tr",align:null},"Permet de changer l\u2019ensemble des contr\xf4les natifs. Reproduit l\u2019attribut controlslist.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#extent"},"extent")),(0,r.kt)("td",{parentName:"tr",align:null},"Retourne l\u2019\xe9tendue de la carte affich\xe9e. En lecture seule.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#lat"},"lat")),(0,r.kt)("td",{parentName:"tr",align:null},"Obtient ou d\xe9finit la latitude de la carte. Reproduit dans l\u2019attribut de contenu lat. Aucun effet sur l'\xe9tat dynamique de la carte.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#lon"},"lon")),(0,r.kt)("td",{parentName:"tr",align:null},"Obtient ou d\xe9finit la longitude de la carte. Reproduit dans l\u2019attribut de contenu lon. Aucun effet sur l'\xe9tat dynamique de la carte.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#projection"},"projection")),(0,r.kt)("td",{parentName:"tr",align:null},"Projection de la carte. Reproduit l\u2019attribut projection.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#zoom"},"zoom")),(0,r.kt)("td",{parentName:"tr",align:null},"Obtient ou d\xe9finit le niveau de zoom de la carte. Reproduit dans l\u2019attribut de contenu zoom. Aucun effet sur l'\xe9tat dynamique de la carte.")))),(0,r.kt)("h3",{id:"controls"},"controls"),(0,r.kt)("p",null,"Pour ajouter des contr\xf4les \xe0 la carte :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.controls = true; // ou false pour supprimer des contr\xf4les\n")),(0,r.kt)("p",null,"Pour v\xe9rifier si les contr\xf4les de la carte sont activ\xe9s ou d\xe9sactiv\xe9s :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nlet controlsAdded = map.controls;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"controlslist"},"controlsList"),(0,r.kt)("p",null,"La propri\xe9t\xe9 ",(0,r.kt)("inlineCode",{parentName:"p"},"controlsList")," renvoie une ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/fr/docs/Web/API/DOMTokenList"},"DomTokenList"),"\nqui aide l'utilisateur \xe0 s\xe9lectionner les contr\xf4les \xe0 afficher sur l'\xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"p"},"mapml-viewer")," en fonction des ",(0,r.kt)("a",{parentName:"p",href:"../elements/mapml-viewer/#controlslist"},"valeurs possibles"),"."),(0,r.kt)("p",null,"Pour d\xe9finir l\u2019attribut controlslist :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.controlsList.value = \"noreload nozoom\"; // les valeurs peuvent \xeatre noreload | nofullscreen | nozoom | nolayer\nmap.controlsList.add(\"nofullscreen\"); // peut \xe9galement \xeatre ajout\xe9 \xe0 l'aide de la m\xe9thode 'add'\nmap.controlsList.toggle(\"nolayer\"); // peut \xe9galement \xeatre bascul\xe9 \xe0 l'aide de la m\xe9thode 'toggle.\n// Voir toutes les m\xe9thodes ici - https://developer.mozilla.org/fr/docs/Web/API/DOMTokenList\n")),(0,r.kt)("p",null,"Pour obtenir la valeur de controlslist :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nlet controlsList = map.controlsList.value;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"extent"},"extent"),(0,r.kt)("p",null,"Lire seulement. Pour obtenir l\u2019\xe9tendue de la carte :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nlet extent = map.extent;\n")),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Afficher un exemple d\u2019\xe9tendue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'/**\n*extent = \n*  {\n*    {\n*      "topLeft": {\n*        "tcrs": [\n*          {\n*            "horizontal": 906.7586206896551,\n*            "vertical": 981.7241379310345\n*          },\n*          ...\n*        ],\n*        "tilematrix": [\n*          {\n*            "horizontal": 3.5420258620689653,\n*            "vertical": 3.8348599137931036\n*          },\n*          ...\n*        ],\n*        "gcrs": {\n*          "horizontal": -93.05456518322721,\n*          "vertical": 63.783997873304855\n*        },\n*        "pcrs": {\n*          "horizontal": 131686.24163915217,\n*          "vertical": 1646487.1729743406\n*        }\n*      },\n*      "bottomRight": {\n*        "tcrs": [\n*          {\n*            "horizontal": 914.9655172413793,\n*            "vertical": 1015.5172413793102\n*          },\n*          ...\n*        ],\n*        "tilematrix": [\n*          {\n*            "horizontal": 3.574084051724138,\n*            "vertical": 3.9668642241379306\n*          },\n*          ...\n*        ],\n*        "gcrs": {\n*          "horizontal": -85.62509797700041,\n*          "vertical": 52.14641630380798\n*        },\n*        "pcrs": {\n*          "horizontal": 446541.0380154103,\n*          "vertical": 350026.2467191592\n*        }\n*      },\n*      "projection": "CBMTILE",\n*      "zoom": {\n*        "minZoom": 0,\n*        "maxZoom": 25\n*      }\n*    }\n*  }\n*/\n'))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"lat"},"lat"),(0,r.kt)("p",null,"Pour d\xe9finir la latitude : "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.lat = 21.4; // rien ne se produit si la valeur n\u2019est pas valide\n")),(0,r.kt)("p",null,"Notez que la valeur fournie n'affecte pas l'\xe9tat de la visionneuse de carte,\nsauf au chargement du document, ou lorsqu'une instance d'un \xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"p"},"<mapml-viewer>"),"\nest construite et ajout\xe9e par programme au DOM. Pour modifier la valeur, utilisez\n",(0,r.kt)("a",{parentName:"p",href:"#zoomTo"},"zoomTo()")),(0,r.kt)("p",null,"Pour obtenir la latitude :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nlet latitude = map.lat;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"lon"},"lon"),(0,r.kt)("p",null,"Pour d\xe9finir la longitude :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.lon = 21.4; // rien ne se produit si la valeur n\u2019est pas valide\n")),(0,r.kt)("p",null,"Notez que la valeur fournie n'affecte pas l'\xe9tat de la visionneuse de carte,\nsauf au chargement du document, ou lorsqu'une instance d'un \xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"p"},"<mapml-viewer>"),"\nest construite et ajout\xe9e par programme au DOM. Pour modifier la valeur, utilisez\n",(0,r.kt)("a",{parentName:"p",href:"#zoomTo"},"zoomTo()")),(0,r.kt)("p",null,"Pour obtenir la longitude :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nlet longitude = map.lon;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"projection"},"projection"),(0,r.kt)("p",null,"Pour fixer ou modifier la projection:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.projection = \"CBMTILE\"; // rien ne se produit si la projection n\u2019est pas valide ou d\xe9finie\n")),(0,r.kt)("p",null,"Pour obtenir la projection :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nlet projection = map.projection;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"zoom"},"zoom"),(0,r.kt)("p",null,"Pour d\xe9finir le niveau de zoom :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.zoom = 3; // rien ne se produit si la valeur n\u2019est pas valide\n")),(0,r.kt)("p",null,"Notez que la valeur fournie n'affecte pas l'\xe9tat de la visionneuse de carte,\nsauf au chargement du document, ou lorsqu'une instance d'un \xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"p"},"<mapml-viewer>"),"\nest construite et ajout\xe9e par programme au DOM. Pour modifier la valeur, utilisez\n",(0,r.kt)("a",{parentName:"p",href:"#zoomTo"},"zoomTo()")),(0,r.kt)("p",null,"Pour obtenir la longitude :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nlet zoom = map.zoom;\n")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"m\xe9thodes"},"M\xe9thodes"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"M\xe9thode"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#back"},"back()")),(0,r.kt)("td",{parentName:"tr",align:null},"Revient \xe0 l\u2019\xe9tat pr\xe9c\xe9dent dans l\u2019historique des mouvements de la carte.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#forward"},"forward()")),(0,r.kt)("td",{parentName:"tr",align:null},"Passe au mouvement panoramique suivant dans l\u2019historique de la carte.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#reload"},"reload()")),(0,r.kt)("td",{parentName:"tr",align:null},"Efface l\u2019historique des mouvements panoramiques de la carte et retourne \xe0 l\u2019emplacement de d\xe9part.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#toggledebug"},"toggleDebug()")),(0,r.kt)("td",{parentName:"tr",align:null},"Active ou d\xe9sactive le d\xe9bogage de la carte.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#viewsource"},"viewSource()")),(0,r.kt)("td",{parentName:"tr",align:null},"Affiche la source de la carte.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"../api/custom-projections"},"defineCustomProjection()")),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9finit une ",(0,r.kt)("a",{parentName:"td",href:"../api/custom-projections"},"projection personnalis\xe9e")," for use by the page.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#zoomtolat-lon-zoom"},"zoomTo(lat, lon, zoom)")),(0,r.kt)("td",{parentName:"tr",align:null},"Survole la carte ou effectue un mouvement panoramique vers un (nouvel) emplacement et \xe0 un autre niveau de zoom.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#zoomtolat-lon-zoom"},"geojson2mapml(json, options)")),(0,r.kt)("td",{parentName:"tr",align:null},"Convertit une caract\xe9ristique GeoJSON ou une cha\xeene ou un objet de collection de caract\xe9ristiques en \xe9l\xe9ment MapML ",(0,r.kt)("inlineCode",{parentName:"td"},"<layer->")," contenant un ou plusieurs \xe9l\xe9ments ",(0,r.kt)("inlineCode",{parentName:"td"},"<map-feature>"),".")))),(0,r.kt)("h3",{id:"back"},"back()"),(0,r.kt)("p",null,"Pour reculer dans l\u2019historique de la carte :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.back();\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"forward"},"forward()"),(0,r.kt)("p",null,"Pour avancer dans l\u2019historique de la carte :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.forward();\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"reload"},"reload()"),(0,r.kt)("p",null,"Pour effacer l\u2019historique de la carte et retourner \xe0 l\u2019emplacement initial :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.reload();\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"toggledebug"},"toggleDebug()"),(0,r.kt)("p",null,"Pour activer ou d\xe9sactiver le d\xe9bogage de la carte :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.toggleDebug();\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"viewsource"},"viewSource()"),(0,r.kt)("p",null,"Pour afficher la source de la carte affich\xe9e :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let map = document.querySelector('mapml-viewer');\nmap.viewSource();\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"zoomtolat-lon-zoom"},"zoomTo(lat, lon, zoom)"),(0,r.kt)("p",null,"Pour d\xe9placer le centre de la carte et modifier le niveau de zoom :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var options = {\n  enableHighAccuracy: true,\n  timeout: 5000,\n  maximumAge: 0\n};\n\nfunction success(pos) {\n  var crd = pos.coords;\n\n  let map = document.querySelector('mapml-viewer');\n  map.zoomTo(crd.latitude,crd.longitude, 17); // zoom cod\xe9 en dur\n  // peut calculer le niveau de zoom en fonction du degr\xe9 de pr\xe9cision de la position\n  console.log(`Plus ou moins ${crd.accuracy} m\xe8tres.`);\n}\n\nfunction error(err) {\n  console.warn(`ERROR(${err.code}): ${err.message}`);\n}\n\nnavigator.geolocation.getCurrentPosition(success, error, options);\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"geojson2mapmljson-options"},"geojson2mapml(json, options)"),(0,r.kt)("p",null,"Convertit une caract\xe9ristique GeoJSON ou une cha\xeene ou un objet de collection de caract\xe9ristiques en \xe9l\xe9ment MapML ",(0,r.kt)("inlineCode",{parentName:"p"},"<layer->")," contenant un ou plusieurs \xe9l\xe9ments ",(0,r.kt)("inlineCode",{parentName:"p"},"<map-feature>"),"."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Jetez un coup d\u2019\u0153il \xe0 ",(0,r.kt)("a",{parentName:"p",href:"https://maps4html.org/experiments/api/custom-map-ui/geoname-search-ui.html"},"cette application")," au moyen de l\u2019API geojson2mapml!")),(0,r.kt)("h4",{id:"param\xe8tres"},"Param\xe8tres"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Param\xe8tre"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"<String","\xa0","|","\xa0","Object>","\xa0","json"),(0,r.kt)("td",{parentName:"tr",align:null},"Cha\xeene ou objet GeoJSON")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Options ","<","Object",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensemble de paires de cl\xe9s ou de valeurs qui personnalise la couche de sortie MapML. Toutes les options sont facultatives et d\xe9crites ci-apr\xe8s.")))),(0,r.kt)("h4",{id:"options"},"Options"),(0,r.kt)("p",null,"<","Object",">"," Ensemble de paires de cl\xe9s ou de valeurs qui personnalise la couche de sortie MapML. Toutes les options sont facultatives et d\xe9crites ci-apr\xe8s."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Option"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"<String",">"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"json.name"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"json.title"),' ou "Layer"'),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9finit la ",(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/web-map-doc/docs/layers/layer/#label"},"label")," de la couche de sortie.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"projection")),(0,r.kt)("td",{parentName:"tr",align:null},"<String",">"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"OSMTILE")),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9finit la ",(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/web-map-doc/docs/elements/mapml-viewer/#projection"},"projection")," de la couche de sortie. Les valeurs d\xe9finies incluent : ",(0,r.kt)("inlineCode",{parentName:"td"},"OSMTILE"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"CBMTILE"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"WGS84"),", and ",(0,r.kt)("inlineCode",{parentName:"td"},"APSTILE"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"caption")),(0,r.kt)("td",{parentName:"tr",align:null},"<String","\xa0","|","\xa0","Function",">"),(0,r.kt)("td",{parentName:"tr",align:null},"Utilise la valeur ",(0,r.kt)("inlineCode",{parentName:"td"},"label")),(0,r.kt)("td",{parentName:"tr",align:null},"Fonction qui accepte la caract\xe9ristique JSON et retourne une cha\xeene, OU une cha\xeene qui est le nom d\u2019une propri\xe9t\xe9 \xe0 mapper sur ",(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/web-map-doc/docs/elements/feature/#map-featurecaption"},"featurecaption"),". Si aucune propri\xe9t\xe9 associ\xe9e n\u2019est trouv\xe9e, la cha\xeene fournie sert de valeur de la l\xe9gende de la caract\xe9ristique. Voir la section ",(0,r.kt)("a",{parentName:"td",href:"#basic-options-usage"},"Utilisation des options de base")," pour un exemple.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("span",{id:"option-properties"},(0,r.kt)("inlineCode",{parentName:"td"},"properties"))),(0,r.kt)("td",{parentName:"tr",align:null},"<Function","\xa0","|","\xa0","String","\xa0","|","\xa0","HTMLElement",">"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("em",{parentName:"td"},"Les propri\xe9t\xe9s seront mapp\xe9es \xe0 un ",(0,r.kt)("a",{parentName:"em",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table"},"table")," HTML.")),(0,r.kt)("td",{parentName:"tr",align:null},"Pr\xe9cise la fa\xe7on dont les propri\xe9t\xe9s sont mapp\xe9es. <Function",">"," - Fonction qui accepte un argument \u2013 l\u2019objet GeoJSON feature \u2013 et qui doit retourner un HTMLElement qui devient l\u2019unique \xe9l\xe9ment-enfant de <properties",">",". <String",">"," - Cha\xeene qui sera analys\xe9e syntaxiquement et utilis\xe9e comme unique \xe9l\xe9ment-enfant de ",(0,r.kt)("inlineCode",{parentName:"td"},"<properties>")," avec toutes les caract\xe9ristiques. <HTMLElement",">"," - \xc9l\xe9ment qui servira d\u2019unique \xe9l\xe9ment- enfant de ",(0,r.kt)("inlineCode",{parentName:"td"},"<properties>")," avec toutes les caract\xe9ristiques. Voir la section ",(0,r.kt)("a",{parentName:"td",href:"#basic-options-usage"},"utilisation des options de base")," pour un exemple.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"geometryFunction")),(0,r.kt)("td",{parentName:"tr",align:null},"<Function",">"),(0,r.kt)("td",{parentName:"tr",align:null},"La g\xe9om\xe9trie ",(0,r.kt)("em",{parentName:"td"},"MapML reproduit la valeur g\xe9om\xe9trique GeoJSON")),(0,r.kt)("td",{parentName:"tr",align:null},"<Function",">"," Fonction pour modifier les ",(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/web-map-doc/docs/elements/geometry/#child-elements"},"descendants g\xe9n\xe9r\xe9s")," de ",(0,r.kt)("inlineCode",{parentName:"td"},"<map-geometry>")," qui peut ajouter des classes, ",(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/web-map-doc/docs/other-elements/map-a/"},"hyperlinks")," et des ",(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/web-map-doc/docs/other-elements/span/"},"spans")," \xe0 l\u2019instance. Un \xe9l\xe9ment ",(0,r.kt)("inlineCode",{parentName:"td"},"<map-geometry>")," simple est cr\xe9\xe9 par d\xe9faut. La fonction accepte deux arguments : l\u2019",(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/web-map-doc/docs/elements/geometry/#child-elements"},"\xe9l\xe9ment-enfant g\xe9n\xe9r\xe9")," de ",(0,r.kt)("inlineCode",{parentName:"td"},"<map-geometry>")," et ",(0,r.kt)("a",{parentName:"td",href:"https://www.rfc-editor.org/rfc/rfc7946#section-3.2"},"l\u2019objet de la caract\xe9ristique JSON")," pour retourner un \xe9l\xe9ment-enfant modifi\xe9 de ",(0,r.kt)("inlineCode",{parentName:"td"},"<map-geometry>"),". Voir la section ",(0,r.kt)("a",{parentName:"td",href:"#basic-options-usage"},"Utilisation des options de base")," pour un exemple.")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\xe9v\xe9nements"},"\xc9v\xe9nements"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nom de l\u2019\xe9v\xe9nement"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"layerchange"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 lorsqu\u2019une couche change de src, habituellement lorsque l\u2019utilisateur clique sur un lien.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"load"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 apr\xe8s que le contenu de toutes les couches a \xe9t\xe9 charg\xe9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"click"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 lorsque la carte re\xe7oit les \xe9v\xe9nements mousedown et mouseup")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dblclick"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 lorsque l\u2019utilisateur double-clique sur la carte ou touche celle-ci")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mousemove"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 \xe0 r\xe9p\xe9tition lorsque le pointeur de la souris est d\xe9plac\xe9 sur la carte")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mouseover"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 une fois lorsque le pointeur de la souris est plac\xe9 sur la carte")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mouseout"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 une fois lorsque le pointeur de la souris sort de la carte")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mousedown"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 lorsque l\u2019utilisateur appuie sur le bouton principal de la souris alors que le pointeur de la souris se trouve sur la carte")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mouseup"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 lorsque l\u2019utilisateur rel\xe2che le bouton principal de la souris alors que le pointeur de la souris se trouve sur la carte")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"movestart"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 avant que la carte commence \xe0 bouger ou que la fen\xeatre d\u2019affichage change")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"move"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 \xe0 r\xe9p\xe9tition lorsque la carte bouge")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"moveend"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 lorsque la carte ne bouge plus")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"zoomstart"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 avant que le niveau de zoom de la carte change")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"zoom"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 \xe0 r\xe9p\xe9tition lorsque le niveau de zoom de la carte change")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"zoomend"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 apr\xe8s que le niveau de zoom de la carte a chang\xe9")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"preclick"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 avant que l\u2019utilisateur clique sur la carte")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"contextmenu"),(0,r.kt)("td",{parentName:"tr",align:null},"D\xe9clench\xe9 lorsque l\u2019utilisateur fait un clic droit sur la carte ou touche celle-ci")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"exemples"},"Exemples"),(0,r.kt)("h3",{id:"geojson2mapml"},"geojson2mapml"),(0,r.kt)("h4",{id:"utilisation-des-options-de-base"},"Utilisation des options de base"),(0,r.kt)("p",null,"Utilisation de chaque option en contexte"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"label",label:"label",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="option d\u2019\xe9tiquette geojson2mapml"',title:'"option',"d\u2019\xe9tiquette":!0,'geojson2mapml"':!0},'geojson2mapml(json, {label: "Centre-ville d\u2019Ottawa"});\n'))),(0,r.kt)(o.Z,{value:"projection",label:"projection",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="geojson2mapml projection option"',title:'"geojson2mapml',projection:!0,'option"':!0},'geojson2mapml(json, {projection: "CBMTILE"});\n'))),(0,r.kt)(o.Z,{value:"caption",label:"caption",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="option de l\xe9gende geojson2mapml \u2013 valeur contenant une fonction"',title:'"option',de:!0,"l\xe9gende":!0,geojson2mapml:!0,"\u2013":!0,valeur:!0,contenant:!0,une:!0,'fonction"':!0},'// fonction de l\xe9gende\ngeojson2mapml(json, {caption: function(feature) {\n    return feature.properties.desc + ", not a Polygon";\n    }\n});\n// valeur de la cha\xeene de l\u2019option de l\xe9gende qui renvoie \xe0 un nom de propri\xe9t\xe9\ngeojson2mapml(json, {caption: "desc"});\n'))),(0,r.kt)(o.Z,{value:"properties",label:"properties",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="geojson2mapml properties option - function-valued"',title:'"geojson2mapml',properties:!0,option:!0,"-":!0,'function-valued"':!0},'// fonction de propri\xe9t\xe9s\ngeojson2mapml(json, {properties: function(feature) {\n    let parser = new DOMParser();\n    return parser.parseFromString("<h1>" + feature.properties.desc + "propri\xe9t\xe9 de</h1>", "text/html").body.firstChild;\n    }\n});\n// option de propri\xe9t\xe9s \u2013 valeur contenant une cha\xeene \u2013 assurez-vous de nettoyer les cha\xeenes fournies par les utilisateurs\ngeojson2mapml(json, {properties: "<p>Cette propri\xe9t\xe9 a \xe9t\xe9 ajout\xe9e \xe0 l\u2019aide d\u2019une cha\xeene de propri\xe9t\xe9s </p>"});\n'))),(0,r.kt)(o.Z,{value:"geometryFunction",label:"geometryFunction",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="geojson2mapml geometryFunction option"',title:'"geojson2mapml',geometryFunction:!0,'option"':!0},'let options = {\n                geometryFunction: function (g, f) {\n                  g.setAttribute("class", f.properties.class);\n                  return g;}\n              };\ngeojson2mapml(json, options);\n')))),(0,r.kt)("h4",{id:"cha\xeene-doptions"},"Cha\xeene d\u2019options"),(0,r.kt)("p",null,"Exemple montrant comment utiliser des cha\xeenes pour d\xe9finir les options ",(0,r.kt)("inlineCode",{parentName:"p"},"label"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"projection"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"caption")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"properties"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'let map = document.querySelector(\'mapml-viewer\');\nlet json = {\n    "name": "Nom par d\xe9faut",\n    "type": "Feature",\n    "geometry": {\n        "type": "Point",\n        "coordinates": [-75.6916809,45.4186964]\n    },\n    "properties": {"desc": "Ceci est un point"}\n};\n\n// GeoJSON \xe0 MapML\nlet output = map.geojson2mapml(json, {label: "Exemple 1", projection: "CBMTILE", caption: "desc", properties: "<h3>Ceci est un en-t\xeate de propri\xe9t\xe9</h3>"});\n')),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Cliquez pour afficher la sortie HTMLElement"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<layer- label="Example 1" checked="">\n   <map-meta name="projection" content="CBMTILE"></map-meta>\n   <map-meta name="cs" content="gcrs"></map-meta>\n   <map-feature>\n      <map-featurecaption>Ceci est un point</map-featurecaption>\n      <map-geometry>\n         <map-point>\n            <map-coordinates>-75.6916809 45.4186964</map-coordinates>\n         </map-point>\n      </map-geometry>\n      <map-properties>\n         <h3>Ceci est un en-t\xeate de propri\xe9t\xe9</h3>\n      </map-properties>\n   </map-feature>\n</layer->\n'))),(0,r.kt)("h4",{id:"fonction-doptions"},"Fonction d\u2019options"),(0,r.kt)("p",null,"Exemple montrant comment les fonctions peuvent servir \xe0 d\xe9finir les options ",(0,r.kt)("inlineCode",{parentName:"p"},"caption")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"properties"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'let map = document.querySelector(\'mapml-viewer\');\nlet json = {\n    "name": "Nom par d\xe9faut",\n    "type": "Feature",\n    "geometry": {\n        "type": "Point",\n        "coordinates": [-75.6916809,45.4186964]\n    },\n    "properties": {"desc": "Ceci est un point"}\n};\n\n// function to set caption\nlet cap = function c(j) {\n  let str = "Ce point se trouve \xe0 : (" + j.geometry.coordinates[0] + ", " + j.geometry.coordinates[1] + ").";\n  return str;\n}\n\n// fonction pour d\xe9finir des propri\xe9t\xe9s\nlet prop = function f(p) {\n  let parser = new DOMParser();\n  return parser.parseFromString("<h1>" + p.properties.desc + "\'s property</h1>", "text/html").body.firstChild;\n}\n\n// GeoJSON \xe0 MapML\nlet output = map.geojson2mapml(json, {label: "Exemple 2", caption: cap, properties: prop});\n')),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Cliquez pour afficher la sortie HTMLElement"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<layer- label="Example 2" checked="">\n   <map-meta name="projection" content="OSMTILE"></map-meta>\n   <map-meta name="cs" content="gcrs"></map-meta>\n   <map-feature>\n      <map-featurecaption>Ce point se trouve \xe0 : (-75.6916809, 45.4186964).</map-featurecaption>\n      <map-geometry>\n         <map-point>\n            <map-coordinates>-75.6916809 45.4186964</map-coordinates>\n         </map-point>\n      </map-geometry>\n      <map-properties>\n         <h1>Ceci est une propri\xe9t\xe9 du point</h1>\n      </map-properties>\n   </map-feature>\n</layer->\n'))),(0,r.kt)("h4",{id:"options-par-d\xe9faut"},"Options par d\xe9faut"),(0,r.kt)("p",null,"Exemple montrant la sortie par d\xe9faut lorsqu\u2019aucune option n\u2019est fournie."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'let map = document.querySelector(\'mapml-viewer\');\nlet json = {\n "title": "G\xe9om\xe9trie du point",\n "bbox": [-75.916809, 45.886964, -75.516809, 45.26964],\n "type": "FeatureCollection",\n "features": [{\n     "type": "Feature",\n     "geometry": {\n         "type": "Point",\n         "coordinates": [-75.6916809, 45.4186964]\n     },\n     "properties": {\n         "prop0": "Ceci est un point"\n     }\n }]\n};\n\n// GeoJSON \xe0 MapML\nlet output = map.geojson2mapml(json);\n')),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Cliquez pour afficher la sortie HTMLElement"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<layer- label="G\xe9om\xe9trie du point" checked="">\n   <map-meta name="extent" content="top-left-longitude=-75.916809, top-left-latitude=45.886964, bottom-right-longitude=-75.516809,bottom-right-latitude=45.26964"></map-meta>\n   <map-meta name="projection" content="OSMTILE"></map-meta>\n   <map-meta name="cs" content="gcrs"></map-meta>\n   <map-feature>\n      <map-featurecaption>G\xe9om\xe9trie du point</map-featurecaption>\n      <map-geometry>\n         <map-point>\n            <map-coordinates>-75.6916809 45.4186964</map-coordinates>\n         </map-point>\n      </map-geometry>\n      <map-properties>\n         <table>\n            <thead>\n               <tr>\n                  <th role="columnheader" scope="col">Property name</th>\n                  <th role="columnheader" scope="col">Property value</th>\n               </tr>\n            </thead>\n            <tbody>\n               <tr>\n                  <th scope="row">prop0</th>\n                  <td itemprop="prop0">This is a Point</td>\n               </tr>\n            </tbody>\n         </table>\n      </map-properties>\n   </map-feature>\n</layer->\n'))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"sp\xe9cifications"},"Sp\xe9cifications"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Sp\xe9cification"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://maps4html.org/MapML/spec/#dom-htmlmapmlviewerelement"},"HTMLMapmlViewerElement"))))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"exigences"},"Exigences"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Maps4HTML/HTML-Map-Element-UseCases-Requirements/issues/new?title=-SUMMARIZE+THE+PROBLEM-&body=-DESCRIBE+THE+PROBLEM-"},"Signaler les probl\xe8mes li\xe9s \xe0 ces exigences sur GitHub")),(0,r.kt)("p",null,(0,r.kt)("b",null,(0,r.kt)("span",{class:"requirement"},"exigence"),(0,r.kt)("span",{class:"enhancement"},"am\xe9lioration"),(0,r.kt)("span",{class:"impractical"},"peu pratique"),(0,r.kt)("span",{class:"undecided"},"ind\xe9cis"),(0,r.kt)("span",{class:"discussion"},"en cours de discussion"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"}),(0,r.kt)("th",{parentName:"tr",align:"center"},"Sp\xe9c."),(0,r.kt)("th",{parentName:"tr",align:"center"},"Visualiseur"),(0,r.kt)("th",{parentName:"tr",align:"center"},"API"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"#propri%C3%A9t%C3%A9s"},(0,r.kt)("strong",{parentName:"a"},"Propri\xe9t\xe9s"))),(0,r.kt)("td",{parentName:"tr",align:"center"},"complet"),(0,r.kt)("td",{parentName:"tr",align:"center"},"complet"),(0,r.kt)("td",{parentName:"tr",align:"center"},"complet")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"#m%C3%A9thodes"},(0,r.kt)("strong",{parentName:"a"},"M\xe9thodes"))),(0,r.kt)("td",{parentName:"tr",align:"center"},"limit\xe9 *"),(0,r.kt)("td",{parentName:"tr",align:"center"},"complet"),(0,r.kt)("td",{parentName:"tr",align:"center"},"limit\xe9 *")))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Exceptions *"),(0,r.kt)("ol",null,(0,r.kt)("li",null,"Aucune sp\xe9cification ne sera fournie pour les m\xe9thodes toggleDebug() ou viewSource()."),(0,r.kt)("li",null,"La sp\xe9cification du param\xe8tre ",(0,r.kt)("a",{href:"#options"},"options")," de la m\xe9thode geojson2mapml n'est pas d\xe9finitive."))),(0,r.kt)("hr",null),(0,r.kt)("blockquote",null,(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/Maps4HTML/web-map-doc/edit/main/docs/elements/mapml-viewer.md"},"Modifier cette page sur ",(0,r.kt)("strong",{parentName:"a"},"Github"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://gitter.im/Maps4HTML/chat"},"Discutez avec nous sur ",(0,r.kt)("strong",{parentName:"a"},"Gitter"))))))}c.isMDXComponent=!0}}]);